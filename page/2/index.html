<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RL8KF7H03V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RL8KF7H03V');
</script>
<!-- End Google Analytics -->

  
  <title>inside out</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="inside out">
<meta property="og:url" content="https://kris3131.github.io/page/2/index.html">
<meta property="og:site_name" content="inside out">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="Kris">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="inside out" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">inside out</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">web development</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜尋"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜尋"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://kris3131.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-2022-09-17-Git" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/17/2022-09-17-Git/" class="article-date">
  <time class="dt-published" datetime="2022-09-16T16:00:00.000Z" itemprop="datePublished">2022-09-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/17/2022-09-17-Git/">Git</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="建立上游連線"><a href="#建立上游連線" class="headerlink" title="建立上游連線"></a>建立上游連線</h3><p>從遠端專案 fork 下來後，如果上游專案有更新怎麼辦？</p>
<ol>
<li>先確定目前遠端分支狀態 <code>git remote -v</code></li>
<li>新增遠端分支位置 <code>upstream</code></li>
</ol>
<ul>
<li><code>git remote add upstream [GitHub HTTPS/SSH URL]</code></li>
</ul>
<ol start="3">
<li>檢查上游專案有沒有更新 <code>git fetch upstream</code></li>
</ol>
<ul>
<li>假如有更新 -&gt; <code>git merge upstream/branch_name</code></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kris3131.github.io/2022/09/17/2022-09-17-Git/" data-id="clcr9ooik000fv1w6ely75zzj" data-title="Git" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/" rel="tag">Git</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2022-09-04-expense-tracker" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/09/04/2022-09-04-expense-tracker/" class="article-date">
  <time class="dt-published" datetime="2022-09-03T16:00:00.000Z" itemprop="datePublished">2022-09-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/09/04/2022-09-04-expense-tracker/">個人專案 - 記帳本</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>這是一個使用者可以自行註冊 &#x2F; 使用第三方等方法登入的記帳工具，是 side-project 的雛形。</p>
<h3 id="為什麼會選擇這個專案"><a href="#為什麼會選擇這個專案" class="headerlink" title="為什麼會選擇這個專案"></a>為什麼會選擇這個專案</h3><p>身為一個熱愛自己動手做<strong>實用的軟體工具</strong>的工程師，在 MVC 架構下，可以好好練習 CRUD 的各種變化，也是一個可以好好玩各種可能性的練習，在練習的過程中加入一些新套件的實驗與應用，是最有趣的部分。</p>
<p>所以對我來說，只要是<strong>日常需要的軟體工具</strong>，都是一個選擇專案的原因。</p>
<h3 id="使用什麼技術"><a href="#使用什麼技術" class="headerlink" title="使用什麼技術"></a>使用什麼技術</h3><p>這次專案的開法是以 Express 為全端開發，Handlebars 處理畫面 ，資料庫是使用 MongoDB ，這次專案的新嘗試是 Passport 套件的 Facebook &#x2F; Google 登入。</p>
<h3 id="對於技術掌握與專案檢討"><a href="#對於技術掌握與專案檢討" class="headerlink" title="對於技術掌握與專案檢討"></a>對於技術掌握與專案檢討</h3><p>專案有甘有苦，這都是人生啊</p>
<p>Express CRUD 的架構算是滿清楚的，專案的建立也是從『支出花費』的 CRUD 開始建立，難度不是很高，從第二第三個 Model 關聯性的建立，難度變成要怎麼向 MongoDB 取得所需資料。主要是自己對於 asynchronous 非同步的處理不熟悉，導致花了很多時間在『 咦?!資料為什麼沒跑出來 』，後續需要對於非同步的觀念在加強。</p>
<p>當然中間也很多不知道怎麼下手的功能，時常需要看看其他人怎麼做，抓出程式邏輯，再看看以目前已經進行的方向要怎麼調整。或是利用一些關鍵字，例如我在實作的時候，有個功能是篩選出「類別」，需要再使用者篩選後， option 會停留在篩選的結果。這個我卡了好一陣子，也是這次專案中新嘗試的小套件，列出幾個搜尋關鍵字，關鍵字的邏輯是使用哪個套件，在那裡遇到，關鍵字如下:</p>
<ul>
<li><p>handelbars -&gt; view 使用的套件</p>
</li>
<li><p>select -&gt; HTML 標籤</p>
</li>
<li><p>option -&gt; select 下的選項</p>
</li>
<li><p>selected -&gt; select 被選 的屬性</p>
<p>結果終於找到，[用 Handlebars 做出保留原始資料的資料][handelbars-helper]<br>[handelbars-helper]: <a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10242260">https://ithelp.ithome.com.tw/articles/10242260</a></p>
</li>
</ul>
<p>都成功顯示畫面，不過我又落入沒有設定停損點，導致花了很多時間在問題打轉。</p>
<p>最後是專案需求，有時候自己做一做專案很開心，一個不小心就離主軸目標越來越遠，等到要拉回來的時候，花了很多無謂的時間在 debug ，得不償失。</p>
<h3 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h3><p>永遠不會有完美的專案，總是有優化專案的空間<br>[專案 GitHub 連結][github]<br>[Heroku 試玩][heroku]<br>[github]: <a target="_blank" rel="noopener" href="https://github.com/Kris3131/expense-tracker">https://github.com/Kris3131/expense-tracker</a><br>[heroku]: <a target="_blank" rel="noopener" href="https://peaceful-retreat-01550.herokuapp.com/users/login">https://peaceful-retreat-01550.herokuapp.com/users/login</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kris3131.github.io/2022/09/04/2022-09-04-expense-tracker/" data-id="clcr9ooii000dv1w6hg8n7b8d" data-title="個人專案 - 記帳本" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/projects/" rel="tag">projects</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2022-08-11-expressHandlebarsEngine" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/08/11/2022-08-11-expressHandlebarsEngine/" class="article-date">
  <time class="dt-published" datetime="2022-08-10T16:00:00.000Z" itemprop="datePublished">2022-08-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/08/11/2022-08-11-expressHandlebarsEngine/">express-handlebars ERROR</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="設定-view-engine-ERROR"><a href="#設定-view-engine-ERROR" class="headerlink" title="設定 view engine ERROR"></a>設定 view engine ERROR</h1><p><strong><a href="mailto:&#x65;&#x78;&#x70;&#x72;&#x65;&#x73;&#x73;&#45;&#x68;&#x61;&#110;&#100;&#x6c;&#101;&#x62;&#x61;&#x72;&#115;&#64;&#x36;&#46;&#48;&#x2e;&#54;">&#x65;&#x78;&#x70;&#x72;&#x65;&#x73;&#x73;&#45;&#x68;&#x61;&#110;&#100;&#x6c;&#101;&#x62;&#x61;&#x72;&#115;&#64;&#x36;&#46;&#48;&#x2e;&#54;</a></strong> 在設定 view engine 出現 error message</p>
<p><code>app.engine(&#39;hbs&#39;, exphbs(&#123; defaultLayout: &#39;main&#39;, extname: &#39;.hbs&#39; &#125;)) </code><br><code>TypeError: exphbs is not a function</code></p>
<h2 id="解決辦法"><a href="#解決辦法" class="headerlink" title="解決辦法"></a>解決辦法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> exphbs = <span class="built_in">require</span>(<span class="string">&#x27;express-handlebars&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PORT</span> = <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">engine</span>(<span class="string">&#x27;hbs&#x27;</span>, exphbs.<span class="title function_">engine</span>(&#123; <span class="attr">defaultLayout</span>: <span class="string">&#x27;main&#x27;</span>, <span class="attr">extname</span>: <span class="string">&#x27;.hbs&#x27;</span> &#125;));</span><br><span class="line">app.<span class="title function_">set</span>(<span class="string">&#x27;view engine&#x27;</span>, <span class="string">&#x27;hbs&#x27;</span>);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">`Hello, World`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="variable constant_">PORT</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Example app listening on http://localhost:<span class="subst">$&#123;PORT&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kris3131.github.io/2022/08/11/2022-08-11-expressHandlebarsEngine/" data-id="clcr9ooig0009v1w61bur9dkf" data-title="express-handlebars ERROR" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/error-message/" rel="tag">error-message</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2022-08-11-selfTaught" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/08/11/2022-08-11-selfTaught/" class="article-date">
  <time class="dt-published" datetime="2022-08-10T16:00:00.000Z" itemprop="datePublished">2022-08-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/08/11/2022-08-11-selfTaught/">個人專案 - 短網址</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Debug-中最大的-Bug-是自己，關於自學的模仿、記憶、理解與創造"><a href="#Debug-中最大的-Bug-是自己，關於自學的模仿、記憶、理解與創造" class="headerlink" title="Debug 中最大的 Bug 是自己，關於自學的模仿、記憶、理解與創造"></a>Debug 中最大的 Bug 是自己，關於自學的模仿、記憶、理解與創造</h1><!-- ![alt](/assets/post_img/shortenerUrl.png) -->

<p>這幾天在玩<a target="_blank" rel="noopener" href="https://github.com/Kris3131/Shortener-Url">縮短網址專案</a>，縮短網址看似簡單，網路上也有很多 YouTube 教學可以參考，<a target="_blank" rel="noopener" href="https://youtu.be/Z57566JBaZQ">Build a Custom URL Shortener Service</a>，<a target="_blank" rel="noopener" href="https://youtu.be/SLpUKAGnm-g">How To Build A URL Shortener With Node.js, Express, and MongoDB</a>，所以沒有很直覺地想出要怎麼做專案，我沒有很灰心，畢竟入行沒有很久，大概知道專案邏輯，剩下的就是<strong>try and error</strong>，但要怎麼 Try 怎麼找到解決 Error 的方法，就是寫 code 有挑戰性的地方。</p>
<p>主要會分成四個『<strong>必須</strong>』來說明這次怎麼解決專案的問題</p>
<h2 id="Try-and-Error"><a href="#Try-and-Error" class="headerlink" title="Try and Error"></a>Try and Error</h2><h3 id="必須動手-gt-模仿"><a href="#必須動手-gt-模仿" class="headerlink" title="必須動手 -&gt; 模仿"></a>必須動手 -&gt; 模仿</h3><!-- ![alt](/assets/post_img/programming.png) -->

<p>網路上有很多資源，就像要開始 URL Shortener 之前，我只有簡單的想幾個步驟：</p>
<ol>
<li>讓使用者自行輸入網址</li>
<li>讀取使用者輸入網址的內容</li>
<li>製作短網址</li>
<li>將短網址導回輸入網址的網頁</li>
</ol>
<p>中間跳過許多執行細節，例如要怎麼檢驗，使用者輸入的內容？輸入的內容有沒有重複？要怎麼製作亂數的短網址？……</p>
<p>這些時候，我會看看別人怎麼做，有沒有哪些功能也可以另外再加上去，或是我沒有注意到的，模仿對我來說可以降低一些挫折的壓力。</p>
<blockquote>
<p>模仿似乎變成一種負面的詞彙，『怎麼沒有原創性』，『抄襲仔』的負面印象</p>
</blockquote>
<p>但那是因為自己心態不夠健全，模仿不是百分之百一模一樣，而是各取所需，模仿可以讓專案更好的地方。</p>
<h3 id="必須不怕麻煩-gt-記憶"><a href="#必須不怕麻煩-gt-記憶" class="headerlink" title="必須不怕麻煩 -&gt; 記憶"></a>必須不怕麻煩 -&gt; 記憶</h3><!-- ![alt](/assets/post_img/thinking.jpg) -->

<p>動手不是打架，是正式開始 coding，通常最難，因為需要整理整個專案大概邏輯，畫面要怎麼呈現，還有 set up 專案環境步驟很多。我只是凡人，腦容量不夠，丟三落四變得很正常，像這次專案 set up 需要:</p>
<ol>
<li>Express -&gt; 建立 localhost</li>
<li>express-handelbars -&gt; 建立 view engine</li>
<li>mongoose 與 MongoDB -&gt;串接資料庫連線</li>
<li>express.Routes -&gt; 將 routes 獨立出來<br>…</li>
</ol>
<p>細微的步驟就只能一再的練習，確認自己知道每一段程式碼是什麼，以我在實作的過程，會畫出 MVC 的架構，把需要串接的工具對應上去，就比較會知道自己在哪裡，做了些什麼事。</p>
<blockquote>
<p>必須動手：這是一個無限循環，忘記就再看一次流程，再實作幾次，沒有捷徑。</p>
</blockquote>
<h3 id="必須瞭解來龍去脈-gt-理解"><a href="#必須瞭解來龍去脈-gt-理解" class="headerlink" title="必須瞭解來龍去脈 -&gt; 理解"></a>必須瞭解來龍去脈 -&gt; 理解</h3><!-- ![alt](/assets/post_img/road-map.jpg) -->

<p>原理讓我很想睡，因為原理對我而言很抽象，但因為『原理』是整個電腦在運作的邏輯，也必須瞭解，假如沒有認知到，那 debug 會 de 到想哭。</p>
<p>就像 handelbars 需要透過 controller 帶進需要的資料內容，資料內容沒有對應清楚，畫面永遠跑不出來。透過 mongoose 向 MongoDB 要資料，沒用對的方法拿，當然那些一長串的 error 就會跑滿整個 terminal。</p>
<blockquote>
<p>寫程式就是會有很多踩雷的過程，每次踩雷都以為要天崩地裂了，但冷靜下來，原來只是自己觀念不清楚</p>
</blockquote>
<p>所以對我而言知道每一段程式碼為什麼存在滿重要的，不然會迷失在錯誤堆中，往不對的方向找答案，只會越來越挫敗。</p>
<h3 id="必須不滿足-gt-創造"><a href="#必須不滿足-gt-創造" class="headerlink" title="必須不滿足 -&gt; 創造"></a>必須不滿足 -&gt; 創造</h3><!-- ![alt](/assets/post_img/children.jpg) -->

<p>是不是可以優化程式碼？是不是可以增加哪些功能？都是可以被額外增加到專案中，有種自己給自己找事做的感覺，這個過程對我而言是一種挑戰專業的機會，是一個很有趣的體驗，完全沈醉在創作。</p>
<h3 id="stay-calm"><a href="#stay-calm" class="headerlink" title="stay calm"></a>stay calm</h3><!-- ![alt](/assets/post_img/church-2608425_1920.jpg) -->

<p>最後，也是滿值得記錄一下關於自學的心態建立，先 debug 自己，再 debug 。每當有 error 都想說，怎麼會我都寫對啊，但不斷地找出問題，不斷的釐清邏輯經過數小時後，就會發現，阿呀原來是觀念不熟悉，或是打錯字等等<strong>低級錯誤</strong>。</p>
<p>冷靜，重新檢視程式碼為什麼會出現錯誤，可能錯誤是出現在哪些地方，是因為語法錯誤嗎？還是有沒有拼錯字，看看別人怎麼做，尋找看看有沒有其他人發生過一樣的問題，一定可以迎刃而解。</p>
<blockquote>
<p>debug 只是需要時間跟冷靜地找到問題的方法而已</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kris3131.github.io/2022/08/11/2022-08-11-selfTaught/" data-id="clcr9ooih000cv1w60whqclld" data-title="個人專案 - 短網址" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/projects/" rel="tag">projects</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2022-06-30-Node.jsLiveServer" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/30/2022-06-30-Node.jsLiveServer/" class="article-date">
  <time class="dt-published" datetime="2022-06-29T16:00:00.000Z" itemprop="datePublished">2022-06-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/06/30/2022-06-30-Node.jsLiveServer/">Node.js Server &gt;&gt;&gt; Express</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Node-js？"><a href="#Node-js？" class="headerlink" title="Node.js？"></a>Node.js？</h2><ul>
<li>JavaScript 執行環境(run-time environment)</li>
<li>讓 JavaScript 從瀏覽器解放</li>
</ul>
<h2 id="Node-js-server"><a href="#Node-js-server" class="headerlink" title="Node.js server"></a>Node.js server</h2><p>回傳 HTML &gt;&gt;&gt; Content-Type &gt;&gt;&gt; text&#x2F;html</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// include http module from Node.js</span></span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// define server related variables</span></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// HTTP status code</span></span><br><span class="line">  res.<span class="property">statusCode</span> = <span class="number">200</span>;</span><br><span class="line">  <span class="comment">// HTTP response Headers &gt;&gt;&gt; content-type</span></span><br><span class="line">  res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;text/plain&#x27;</span>);</span><br><span class="line">  <span class="comment">// HTTP response Body</span></span><br><span class="line">  res.<span class="title function_">end</span>(<span class="string">&#x27;This is my first server created in Node.js&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// start and listen the server</span></span><br><span class="line">server.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`The server is listening on http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h2><ul>
<li>JavaScript 後端框架</li>
</ul>
<h2 id="安裝方式"><a href="#安裝方式" class="headerlink" title="安裝方式"></a>安裝方式</h2><ul>
<li><code>npm init</code> &#x2F; <code>npm init -y</code></li>
<li><code>npm i express</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">&#x27;This is my first Express.js app&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line">app.<span class="title function_">listen</span>(port, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Express is running on http://localhost:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kris3131.github.io/2022/06/30/2022-06-30-Node.jsLiveServer/" data-id="clcr9ooif0008v1w67nokas8f" data-title="Node.js Server &gt;&gt;&gt; Express" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Node-js/" rel="tag">Node.js</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2022-06-20-HTML" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/06/20/2022-06-20-HTML/" class="article-date">
  <time class="dt-published" datetime="2022-06-19T16:00:00.000Z" itemprop="datePublished">2022-06-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/06/20/2022-06-20-HTML/">HTML 的 head 有些什麼</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="HTML-的-head-有什麼"><a href="#HTML-的-head-有什麼" class="headerlink" title="HTML 的 head 有什麼"></a>HTML 的 head 有什麼</h1><p>HTML 是網頁的架構，由語意標籤組成，這裡不會特別紀錄標籤，會把<strong>重點放在 head</strong>裡面有些什麼。<br>在紀錄 head 之前，會先說明 <!DOCTYPE html>、<html> 、<head>、<body> 是什麼<br><br></p>
<h2 id="HTML-有些什麼？"><a href="#HTML-有些什麼？" class="headerlink" title="HTML 有些什麼？"></a>HTML 有些什麼？</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<br>

<h3 id=""><a href="#" class="headerlink" title=""></a><!DOCTYPE html></h3><p>文件的種類，告訴瀏覽器文件的種類是 HTML<br><br>為什麼需要告訴瀏覽器文件的種類？ 與瀏覽器渲染畫面的模式有關。<br><br>瀏覽器有三種渲染畫面的模式：</p>
<ul>
<li><strong>quirks mode</strong>、</li>
<li><strong>almost standards mode</strong>、</li>
<li><strong>standards mode</strong><br><br>確保瀏覽器在渲染畫面的時候是在正確模式下進行<br></li>
</ul>
<h3 id="-1"><a href="#-1" class="headerlink" title=""></a><html></h3><ul>
<li><html>標籤內包含整個頁面的內容</li>
<li>又可以被稱為 root element<br></li>
</ul>
<h3 id="-2"><a href="#-2" class="headerlink" title=""></a><head></h3><p>標籤內的內容不會顯示給使用者看到，包含 HTML 的文件內容</p>
<ul>
<li><strong>title</strong></li>
<li><strong>meta</strong></li>
<li><strong>CSS &#x2F; JavaScript</strong></li>
<li><strong>script</strong><br></li>
</ul>
<p>參考<a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML">MDN</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kris3131.github.io/2022/06/20/2022-06-20-HTML/" data-id="clcr9ooic0005v1w6g90i9um4" data-title="HTML 的 head 有些什麼" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2022-04-28-PostgreSQL" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/28/2022-04-28-PostgreSQL/" class="article-date">
  <time class="dt-published" datetime="2022-04-27T16:00:00.000Z" itemprop="datePublished">2022-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/04/28/2022-04-28-PostgreSQL/">Rails default database SQLite3 switch to PostgreSQL</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Switch-SQLite3-to-PostgreSQL"><a href="#Switch-SQLite3-to-PostgreSQL" class="headerlink" title="Switch SQLite3 to PostgreSQL"></a>Switch SQLite3 to PostgreSQL</h3><h2 id="Database"><a href="#Database" class="headerlink" title="Database"></a>Database</h2><p>database 是資料庫，為什麼需要資料庫？因為 client - server 互動需要資料傳輸， client 傳送資料給 server ， server 向 client 顯示資料，或是儲存 client 傳送的資料。所以需要 database 儲存資料。</p>
<p>假如所有資料通通放在一起，沒有一個系統性的整理，會變得很可怕。所以我們可以利用表格的方式整理散亂的資料，table 是資料表格，fields column 是”欄” ，record row 是資料”列”，視覺呈現會是這樣</p>
<!-- ![table](/assets/post_img/sql-table-column-row.png 'table-column-row') -->

<h2 id="DBMS"><a href="#DBMS" class="headerlink" title="DBMS"></a>DBMS</h2><p>database management system 管理資料庫的系統。MySQL &#x2F; PostgreSQL</p>
<h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><p>操作資料庫的語言:SQL (Structured Query language)</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>Rails 預設使用 SQLite3 作為資料庫，主要是在開發，測試環境上，SQLite3 是一個輕量型的資料庫類型，但到正式產品上線，SQLite3 可能會不夠用。<br>實作情境大致分成三種，第一種：完美 PostgreSQL 專案建立，第二種：任性手動調整 SQLite3 -&gt; PostgreSQL ，跟最後一種：沒辦法就是要 PostgreSQL</p>
<h1 id="安裝-PostgreSQL"><a href="#安裝-PostgreSQL" class="headerlink" title="安裝 PostgreSQL"></a>安裝 PostgreSQL</h1><p><code>brew install postgresql</code></p>
<p>使用 homebrew 安裝一鍵搞定</p>
<p><strong>啟動</strong> PostgreSQL</p>
<p><code>brew services start postgresql</code><br><strong>關掉</strong> PostgreSQL<br><code>brew services stop postgresql</code></p>
<h1 id="正常一點，用-PostgreSQL-建立專案"><a href="#正常一點，用-PostgreSQL-建立專案" class="headerlink" title="正常一點，用 PostgreSQL 建立專案"></a>正常一點，用 PostgreSQL 建立專案</h1><p><code>rails new myapp --database=postgresql</code></p>
<p>意思是：用 rails 直接 new 一個新的專案，database 使用 postgresql。 <br/><br>config&#x2F;database.yml 檔案中可以看到 database 的設定狀態</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">default:</span> <span class="meta">&amp;default</span></span><br><span class="line"><span class="attr">adapter:</span> <span class="string">postgresql</span></span><br><span class="line"><span class="attr">encoding:</span> <span class="string">unicode</span></span><br><span class="line"><span class="attr">pool:</span> &lt;%=<span class="language-ruby"> <span class="variable constant_">ENV</span>.fetch(<span class="string">&quot;RAILS_MAX_THREADS&quot;</span>) &#123; <span class="number">5</span> &#125; </span>%&gt;</span><br><span class="line"><span class="attr">development:</span></span><br><span class="line"><span class="string">&lt;&lt;:</span> <span class="meta">*default</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">myapp_development</span></span><br><span class="line"><span class="attr">test:</span></span><br><span class="line"><span class="string">&lt;&lt;:</span> <span class="meta">*default</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">myapp_test</span></span><br><span class="line"><span class="attr">production:</span></span><br><span class="line"><span class="string">&lt;&lt;:</span> <span class="string">\*default</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">myapp_production</span></span><br><span class="line"><span class="attr">username:</span> <span class="string">myapp</span></span><br><span class="line"><span class="attr">password:</span> &lt;%=<span class="language-ruby"> <span class="variable constant_">ENV</span>[<span class="string">&#x27;MYAPP_DATABASE_PASSWORD&#x27;</span>] </span>%&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最後，在用<code>rails db:create</code>的指令讓 rails 和資料庫做連結，</p>
<!-- ![database_create](/assets/post_img/postgresql-database-create-success.png 'database_create') -->

<h1 id="手賤一點，原本是-SQLite3-轉到-PostgreSQL"><a href="#手賤一點，原本是-SQLite3-轉到-PostgreSQL" class="headerlink" title="手賤一點，原本是 SQLite3 轉到 PostgreSQL"></a>手賤一點，原本是 SQLite3 轉到 PostgreSQL</h1><p>以這個情境來說，是自己建立專案，獨立開發的狀態下，</p>
<p>一樣， new 一個新的 Rails 專案，<br><code>rails new myapp_default_sqlite3</code></p>
<p>config&#x2F;database.yml 檔案中可以看到 database 的設定狀態</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">default:</span> <span class="meta">&amp;default</span></span><br><span class="line"><span class="attr">adapter:</span> <span class="string">sqlite3</span></span><br><span class="line"><span class="attr">pool:</span> &lt;%=<span class="language-ruby"> <span class="variable constant_">ENV</span>.fetch(<span class="string">&quot;RAILS_MAX_THREADS&quot;</span>) &#123; <span class="number">5</span> &#125; </span>%&gt;</span><br><span class="line"><span class="attr">timeout:</span> <span class="number">5000</span></span><br><span class="line"></span><br><span class="line"><span class="attr">development:</span></span><br><span class="line"><span class="string">&lt;&lt;:</span> <span class="string">\*default</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">db/development.sqlite3</span></span><br><span class="line"></span><br><span class="line"><span class="attr">test:</span></span><br><span class="line"><span class="string">&lt;&lt;:</span> <span class="string">\*default</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">db/test.sqlite3</span></span><br><span class="line"></span><br><span class="line"><span class="attr">production:</span></span><br><span class="line"><span class="string">&lt;&lt;:</span> <span class="string">\*default</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">db/production.sqlite3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>來吧動手改掉他吧</strong></p>
<ul>
<li><p>打開 Gemfile:</p>
<ul>
<li>把<code>gem &#39;sqlite3&#39; </code>註解掉</li>
<li>加上<code>gem &#39;pg&#39; </code></li>
<li><code>bundle</code></li>
</ul>
</li>
<li><p>打開 PostgreSQL services<code>brew services start postgresql</code></p>
</li>
</ul>
<p>－ 進入到 PostgreSQL 模式，<code>psql</code></p>
<ul>
<li><p>直接建立資料庫<code>CREATE DATABASE YOUR_DATABASE_NAME</code></p>
</li>
<li><p>修改 database.yml 檔</p>
</li>
</ul>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">default:</span> <span class="meta">&amp;default</span></span><br><span class="line"><span class="attr">adapter:</span> <span class="string">**postgresql**</span></span><br><span class="line"><span class="attr">pool:</span> &lt;%=<span class="language-ruby"> <span class="variable constant_">ENV</span>.fetch(<span class="string">&quot;RAILS_MAX_THREADS&quot;</span>) &#123; <span class="number">5</span> &#125; </span>%&gt;</span><br><span class="line"><span class="attr">timeout:</span> <span class="number">5000</span></span><br><span class="line"></span><br><span class="line"><span class="attr">development:</span></span><br><span class="line"><span class="string">&lt;&lt;:</span> <span class="string">\*default</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">**myapp**</span></span><br><span class="line"></span><br><span class="line"><span class="attr">test:</span></span><br><span class="line"><span class="string">&lt;&lt;:</span> <span class="string">\*default</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">**myapp**</span></span><br><span class="line"></span><br><span class="line"><span class="attr">production:</span></span><br><span class="line"><span class="string">&lt;&lt;:</span> <span class="string">\*default</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">**myapp**</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><code>rails db:create</code></li>
</ul>
<!-- ![database_create](/assets/post_img/sqlite3-default-switch-postgresql.png 'database_create') -->

<p>成功將 rails 和 PostgreSQL 的資料庫串起來了</p>
<h1 id="第三種情境是沒有選擇，協作專案…"><a href="#第三種情境是沒有選擇，協作專案…" class="headerlink" title="第三種情境是沒有選擇，協作專案…"></a>第三種情境是沒有選擇，協作專案…</h1><!-- ![database_create](/assets/post_img/clone-project.png 'database_create') -->

<p>database 的部分，不是自己建的，要怎麼跟自己本機端的 database 串在一起？</p>
<p>這時候需要 PostgreSQL USER_NAME 跟 USER_PASSWORD ，讓這個 database 也可以在本機建立資料。</p>
<p>首先找出自己的 PostgreSQL USER_NAME 跟 USER_PASSWORD ，我的方式是透過 <code>psql</code> 進到資料庫，接者打指令<code>\du</code>，可以列出使用者。</p>
<p>這裡順便把 PostgreSQL 常用語法也列出來。</p>
<table>
<thead>
<tr>
<th>指令</th>
<th>幹嘛的</th>
</tr>
</thead>
<tbody><tr>
<td>\l</td>
<td>顯示所有資料庫</td>
</tr>
<tr>
<td>\du</td>
<td>查看所有 USER</td>
</tr>
<tr>
<td>\c <em>DatabaseName</em></td>
<td>切換資料庫</td>
</tr>
<tr>
<td>\q</td>
<td>結束</td>
</tr>
</tbody></table>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">adapter:</span> <span class="string">postgresql</span></span><br><span class="line"><span class="attr">encoding:</span> <span class="string">unicode</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">blog_development</span></span><br><span class="line"><span class="attr">username:</span> <span class="string">YOUR_USERNAME</span></span><br><span class="line"><span class="attr">password:</span> <span class="string">YOUR_PASSWORD</span></span><br><span class="line"><span class="attr">pool:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>最後一樣，<code>rails db:create</code>，看看有沒有成功的在本地的 PostgreSQL 建立 database</p>
<!-- ![database_create](/assets/post_img/git-clone.png 'database_create') -->

<p>不過要是把 username &#x2F; password 直接寫在檔案裡，要是進行 Git 版控裡，或是放在 GitHub 中帳號密碼會外洩，這裡有另外一個 gem 套件， <a target="_blank" rel="noopener" href="https://github.com/bkeepers/dotenv">dotenv</a></p>
<p>安裝步驟：</p>
<ul>
<li><p>根據 GitHub 上的教學，把 dotenv 放到 Gemfile</p>
<ul>
<li><code>gem &#39;dotenv-rails&#39;, groups: [:development, :test]</code></li>
<li>記得<code>bundle</code></li>
</ul>
</li>
<li><p>目錄列建立一個<code>.env</code>檔案<br>檔案放<br/><br><code>USERNAME: YOUR_USERNAME</code> <br/><br><code>PASSWORD: YOUR_PASSWORD</code></p>
</li>
<li><p>然後我們就可以直接修改檔案的內容，改成區域變數的方式</p>
</li>
</ul>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">adapter:</span> <span class="string">postgresql</span></span><br><span class="line"><span class="attr">encoding:</span> <span class="string">unicode</span></span><br><span class="line"><span class="attr">database:</span> <span class="string">blog_development</span></span><br><span class="line"><span class="attr">username:</span> <span class="string">**&lt;%=</span> <span class="string">ENV[&#x27;USERNAME&#x27;]</span> <span class="string">%&gt;**</span></span><br><span class="line"><span class="attr">password:</span> <span class="string">**&lt;%=</span> <span class="string">ENV[&#x27;PASSWORD&#x27;]</span> <span class="string">%&gt;**</span></span><br><span class="line"><span class="attr">pool:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>在 Rails 中請記得區域變數一定要加上 <strong>&lt;%&#x3D; %&gt;</strong> .erb 檔的寫法</p>
<p>最後就以<br><strong><code>brew services stop postgresql</code></strong><br>結束這一回合!!!!!!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kris3131.github.io/2022/04/28/2022-04-28-PostgreSQL/" data-id="clcr9ooib0004v1w6gmtt9zep" data-title="Rails default database SQLite3 switch to PostgreSQL" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Base/" rel="tag">Data-Base</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-2022-04-20-Routes-MVC" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/20/2022-04-20-Routes-MVC/" class="article-date">
  <time class="dt-published" datetime="2022-04-19T16:00:00.000Z" itemprop="datePublished">2022-04-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/04/20/2022-04-20-Routes-MVC/">Routes / MVC</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Routes、Model、View、Controller 的概念困擾很久，簡單來說：</p>
<p>MVC 是<strong>軟體設計的一種模式</strong>(software design pattern)，可以參考<a target="_blank" rel="noopener" href="https://www.wikiwand.com/en/Model%E2%80%93view%E2%80%93controller">Wiki</a></p>
<p>進入 MVC 世界之前，補了一些 Internet 與 Web 的運作邏輯，</p>
<h2 id="Internet-與-Web"><a href="#Internet-與-Web" class="headerlink" title="Internet 與 Web"></a>Internet 與 Web</h2><h1 id="什麼是-internet"><a href="#什麼是-internet" class="headerlink" title="什麼是 internet?"></a>什麼是 internet?</h1><ul>
<li><p><strong>Internet 是 Web 的基礎</strong>，換句話說， Web 是建構在 Internet 之上。</p>
</li>
<li><p><strong>Internet</strong> 是電腦與電腦之間的連結</p>
<!-- ![Route](/assets/post_img/internet-schema-1.png 'resource: MDN') -->

<p>圖片來源：MDN</p>
</li>
<li><p><strong>Route</strong> 是當電腦間的連結關係複雜時候的一種連結管理</p>
<!-- ![Route](/assets/post_img/internet-schema-3.png 'resource: MDN') -->

<p>圖片來源：MDN</p>
</li>
<li><p><strong>network</strong> 是 Routes 規模變大，連結 Routes 間的連結管理</p>
<!-- ![network](/assets/post_img/internet-schema-5.png 'resource: MDN') -->

<p>圖片來源：MDN</p>
</li>
<li><p><strong>ISP(Internet Service Provider)</strong> 是 network 間的連結管理</p>
<!-- ![Internet](/assets/post_img/internet-schema-7.png 'resource: MDN') --></li>
</ul>
<p>圖片來源：MDN</p>
<ul>
<li><strong>IP(Internet Protocol)</strong> 連結到 network 的識別，一連串數字組成 <code>142.250.190.78</code>，但我們連到網頁上不太可能會把一整串數字背出來，所以我們需要 <strong>domain name</strong>，<code>https://www.google.com.tw/</code></li>
</ul>
<h1 id="什麼是-Web"><a href="#什麼是-Web" class="headerlink" title="什麼是 Web?"></a>什麼是 Web?</h1><p>Web 是介於客戶(client)與主機(server)之間的關係， client 會向 server 發送請求，server 會回應 client 的需求，網路世界的供需關係。</p>
<!-- ![Web](/assets/post_img/simple-client-server.png 'resource: pixabay') -->

<p>MDN 關於 Web 的描述很深刻</p>
<blockquote>
<blockquote>
<p>For now, let’s imagine that the web is a road. On one end of the road is the client, which is like your house. On the other end of the road is the server, which is a shop you want to buy something from.</p>
</blockquote>
</blockquote>
<p><img src="https://cdn.pixabay.com/photo/2017/01/28/02/24/japan-2014617_1280.jpg" alt="Web" title="resource: pixabay"></p>
<p>依照網路世界運作模式來看，可以解釋為什麼在 Ruby on Rails 的建立會依照<strong>Routes &gt; Model &gt; View &gt; Controller</strong>這樣的順序進行</p>
<h2 id="Routes"><a href="#Routes" class="headerlink" title="Routes"></a>Routes</h2><p>路徑是建立 client 與 server 之間橋樑。<br /><br>Rails 的第一步：設定 Routes。<br /><br>Routes 的設計是依照<strong>REST(Representational State Transfer)的設計風格</strong>，<br>REST 翻成專有名詞反而有點難理解，表現層狀態轉移，白話文應該可以說：看網址就知道你要幹嘛，這個留到日後再慢慢補上，免得越陷越深。<br>回到思考 Routes 的過程，可以理解成把自己想像成使用者，怎樣的網址設計可以讓使用者與設計者一眼就可以知道想看到的內容和需要呈現的內容。<br>後續再設計 MVC 結構也許可以換一個角度評估：<br>進入頁面後，<br /><br>期待看到的內容是什麼？<br /><br>畫面的操作流程是什麼？<br /><br>會期待網頁有什麼功能？<br /><br>是購物型網站？<br /><br>資訊瀏覽網站？<br /><br>購物網站？<br /><br>登入功能應該有哪些？<br /></p>
<p>透過這樣的疑問句來找出需要建立的 Model 需要哪些內容 &gt; View 畫面要怎麼呈現 &gt; Controller 介於 DataBase 與 View 之間的橋樑</p>
<h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><p>Model 是用 Ruby 類別 (class)的方式表示 data，在 Model 透過 Active Record 和 database 拿到需要的資料。<br>建立 model 需要注意 model_name 的<strong>大小寫與單複數問題</strong>。<br>這裡可以這樣記：<strong>因為 model 是一筆一筆的資料寫進資料庫</strong></p>
<p><code>bin/rails generate model Article title:string body:text</code><br /></p>
<p>意思是：用 rails 建立一個 Article 的 model，在這 model 裡面需要的資料結構，title 是 string，body 是 text</p>
<h1 id="ActiveRecord"><a href="#ActiveRecord" class="headerlink" title="ActiveRecord"></a>ActiveRecord</h1><p>Active Record 是 MVC 裡面的 M，呈現資料與邏輯<br>Object Relational Mapping(ORM) system 是連結資料庫的管理架構。</p>
<p>再深入的解釋 Active Record：</p>
<ul>
<li>呈現 data 跟 model</li>
<li>model 之間的關聯性、階層</li>
<li>驗證 Model 的資料格式</li>
<li>用物件導向的方式來呈現資料結構</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &lt; <span class="title class_ inherited__">ApplicationRecord</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h1 id="Database-Migration"><a href="#Database-Migration" class="headerlink" title="Database Migration"></a>Database Migration</h1><p>官方文件對於 Database Migration 的解釋是</p>
<blockquote>
<blockquote>
<p>Migrations are used to alter the structure of an application’s database. In Rails applications, migrations are written in Ruby so that they can be database-agnostic.</p>
</blockquote>
</blockquote>
<p>我的理解是：用 Ruby 表示的 database 的資料結構，更好理解。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CreateResumes</span> &lt; <span class="title class_ inherited__">ActiveRecord::Migration</span>[<span class="number">6.1</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">change</span></span><br><span class="line">create_table <span class="symbol">:resumes</span> <span class="keyword">do</span> |<span class="params">t</span>|</span><br><span class="line">t.string <span class="symbol">:title</span></span><br><span class="line">t.text <span class="symbol">:content</span></span><br><span class="line">t.string <span class="symbol">:status</span></span><br><span class="line"></span><br><span class="line">      t.timestamps</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>乍看之下，Migration 跟 ActiveRecord 好像有那麼一點像？<br><strong>沒有他們不一樣！</strong></p>
<p>Migration 是把 database 內的資料格式列出來，所以要調整 column 的項目，可以另外進行一些客製化調整<br><code>bin/rails generate migration AddPartNumberToProducts part_number:string</code><br /></p>
<p>意思是：用 rails 建立一個 migration 檔案，在這檔案裡面需要再加上一個 part_number 的 column 到 products 的 model 中，他的 data type 是 string</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AddPartNumberToProducts</span> &lt; <span class="title class_ inherited__">ActiveRecord::Migration</span>[<span class="number">6.0</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">change</span></span><br><span class="line">add_column <span class="symbol">:products</span>, <span class="symbol">:part_number</span>, <span class="symbol">:string</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>ActiveRecord 是定義資料間的關聯性與驗證資料。</p>
<p>最後在建立 Migration 後還要再將需要的 data type 寫進資料庫，<br><code>bin/rails db:migrate</code><br>有些人稱為具現化，<br>我覺得太抽象，<br>可能更像一種寫進資料庫前的<strong>防呆機制</strong>，在寫進去之前，要改都是有機會的，寫進去之後就是要在重新 generate 一個 migrate…</p>
<h2 id="View"><a href="#View" class="headerlink" title="View"></a>View</h2><p>以 client 的角度而言，當 web 發送一個 request 後，Action Controller 負責與 database 要來的資料，執行 CRUD Action， Action View 會顯示資料的畫面。<br>View 中還有許多細節，留到接下來的實作紀錄在細細介紹，</p>
<h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><p>controller 會從 router 那邊接收 request，依照 request 去找 model fetch 或 save data，再透過 view 產生畫面。<br>Controller 介於 models 和 views 中間，可以讓 model 的 data 可以透過 view 的畫面呈現給 client，也同時讓 client 可以上傳或是儲存 data 到 model 中。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kris3131.github.io/2022/04/20/2022-04-20-Routes-MVC/" data-id="clcr9ooia0003v1w62l200uil" data-title="Routes / MVC" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/concept/" rel="tag">concept</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; 上一頁</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Base/" rel="tag">Data-Base</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/" rel="tag">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/concept/" rel="tag">concept</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/error-message/" rel="tag">error-message</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/projects/" rel="tag">projects</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/text-editor/" rel="tag">text-editor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thoughts/" rel="tag">thoughts</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤雲</h3>
    <div class="widget tagcloud">
      <a href="/tags/Data-Base/" style="font-size: 10px;">Data-Base</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/HTML/" style="font-size: 10px;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/concept/" style="font-size: 20px;">concept</a> <a href="/tags/error-message/" style="font-size: 10px;">error-message</a> <a href="/tags/projects/" style="font-size: 15px;">projects</a> <a href="/tags/text-editor/" style="font-size: 10px;">text-editor</a> <a href="/tags/thoughts/" style="font-size: 20px;">thoughts</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">彙整</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/01/11/2023-01-11-changeCareerPath/">跳痛 - 轉職工程師不容易</a>
          </li>
        
          <li>
            <a href="/2022/11/21/2022-11-21-RunningSumof1dArray/">LeetCode - Running Sum Of 1d Array</a>
          </li>
        
          <li>
            <a href="/2022/11/07/2022-11-07-install-vim/">Vim, 隨時補充</a>
          </li>
        
          <li>
            <a href="/2022/11/07/2022-11-07-leetcode/">Leetcode 隨時更新</a>
          </li>
        
          <li>
            <a href="/2022/11/05/2022-11-05-open-source/">Open Source</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 Kris<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>